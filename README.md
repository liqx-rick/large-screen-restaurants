# 快餐连锁店营业情况可视化大屏

## 项目概述

这是一个基于Excel数据的可视化大屏项目，用于展示快餐连锁店的营业情况分析。项目采用前后端分离架构，通过数据分析和可视化展示，帮助管理者直观地了解连锁店的经营状况。

## 系统架构

```
┌────────────┐
│ Excel 文件 │ ← 源数据文件
└─────┬──────┘
      ↓
┌─────────────┐
│ Python 数据处理 │ ← pandas 数据分析
└─────┬─────────┘
      ↓
┌────────────┐
│ FastAPI 后端 │ ← RESTful API 服务
└─────┬──────┘
      ↓
┌────────────────────────┐
│ 前端可视化（Vue + ECharts）│ ← 数据展示
└────────────────────────┘
```

## 功能特点

### 数据分析功能
- 月度营收趋势分析
- 成本与营收比例分析
- 各类别销售分布分析
- 增长率分析
- 会员与非会员营收对比
- 收银台营收分析
- 工资成本分析

### 系统功能
- Excel数据自动导入与分析
- 数据实时刷新
- RESTful API接口
- 响应式大屏展示
- 多维度数据可视化

## 技术栈

### 后端技术
- Python 3.8+
- FastAPI 框架
- Pandas 数据处理
- NumPy 数学计算

### 前端技术
- Vue.js
- ECharts 图表库
- Axios HTTP客户端
- 原生CSS样式

## 项目结构

```
├── app.py                    # FastAPI应用主文件
├── analyze_data.py          # 数据分析模块
├── data/                    # 数据目录
│   ├── 快餐连锁店营业情况202404-202503.xlsx  # 源数据文件
│   └── analysis_results.json # 分析结果
├── frontend/                # 前端文件
│   ├── index.html          # 主页面
│   ├── css/                # 样式文件
│   │   └── style.css      # 主样式表
│   └── js/                # JavaScript文件
│       └── dashboard.js   # 大屏逻辑
└── README.md               # 项目文档
```

## 安装部署

### 环境要求
- Python 3.8 或更高版本
- 现代浏览器（Chrome、Firefox、Edge等）

### 安装步骤

1. 克隆项目到本地
```bash
git clone [项目地址]
cd [项目目录]
```

2. 安装依赖包
```bash
pip install -r requirements.txt
```

3. 准备数据文件
- 将Excel数据文件放入 `data` 目录
- 确保文件名为 `快餐连锁店营业情况202404-202503.xlsx`

4. 启动服务
```bash
uvicorn app:app --host 127.0.0.1 --port 8080 --reload
```

5. 访问应用
- 打开浏览器访问：http://127.0.0.1:8080/frontend/
- API文档：http://127.0.0.1:8080/docs

## API接口说明

### 数据接口
- `GET /api/data/all` - 获取所有分析数据
- `GET /api/data/summary` - 获取数据摘要
- `GET /api/data/trends` - 获取趋势数据
- `GET /api/data/distribution` - 获取分布数据
- `GET /api/data/growth` - 获取增长率数据
- `GET /api/refresh-data` - 刷新数据分析

### 错误处理
- 所有接口都包含适当的错误处理
- 返回标准化的错误响应格式
- 包含详细的错误信息

## 数据格式要求

### Excel文件格式
- 必须包含月度数据列
- 数据列名格式：YYYYMM
- 必须包含以下关键数据行：
  - 营业收入
  - 成本支出
  - 会员收入
  - 非会员收入
  - 工资支出

## 注意事项

1. 数据安全
   - 确保数据文件备份
   - 定期更新数据
   - 注意数据文件权限设置

2. 系统维护
   - 定期检查日志
   - 监控系统性能
   - 及时更新依赖包

3. 使用建议
   - 使用现代浏览器访问
   - 保持网络连接稳定
   - 定期刷新数据

## 常见问题

1. 数据不显示
   - 检查数据文件是否存在
   - 确认数据格式是否正确
   - 查看浏览器控制台错误信息

2. 图表加载失败
   - 检查网络连接
   - 确认API服务是否正常运行
   - 清除浏览器缓存

## 未来计划

1. 功能增强
   - 添加用户认证系统
   - 支持多数据源导入
   - 增加数据导出功能
   - 添加更多分析维度

2. 性能优化
   - 优化数据处理效率
   - 改进前端加载速度
   - 增加数据缓存机制

3. 界面优化
   - 支持自定义主题
   - 增加更多图表类型
   - 优化移动端适配

## 维护与支持

- 定期更新文档
- 提供技术支持
- 接受功能建议
- 及时修复问题

## 版本历史

- v1.0.0 (2025-04-10)
  - 初始版本发布
  - 基础功能实现
  - 完整文档支持 